extends ../layout.pug
include ../components/icon_svg.pug

block title
  title 忆往昔如烟，度余生_滔's 博客

block content
  main.tc-container.container
    .tc-affix(data-top=0)
      ul.time-quantum
        -
          const seasonZh = {
            spring: '春',
            summer: '夏',
            autumn: '秋',
            winter: '冬',
          };
          const arr = ['winter', 'autumn', 'summer', 'spring', 'winter', 'autumn', 'summer'];
          const displayTimes = [];
          const d = new Date();
          let year = d.getFullYear();
          const month = d.getMonth() + 1;
          let index = 0;
          if (month >= 8 && month <= 10) index = 1;
          else if (month >= 5 && month <= 7) index = 2;
          else if (month >= 2 && month <= 4) index = 3;
          
          for (let i = index;i < index + 4;i ++) {
            let computedYear = i >= 4 ? year - 1 : year;
            displayTimes.push({
              season: arr[i],
              val: arr[i] + computedYear,
              text: `${computedYear}年${seasonZh[arr[i]]}`,
            });
          }
          displayTimes.push({ val: `earlier${year - 1}-${month}`, text: '更早' });
        each val in displayTimes
          li(class= /autumn/.test(val.val) ? 'active' : '')
            a.tc-ripple(href= `#${val.val}`, role="button")
              +icon(val.season, 20)
              | #{val.text}
    .articles
      ul.list-article
        each val in new Array(4)
          li.tc-list-item-article
            h3.title
              a(href="/articles/detail") XX
            .description
              time(title="发布时间") 12小时
              i.tc-divider
              span(title="分类标签") 打酱油
            p Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maxime ut, perferendis sapiente culpa exercitationem ratione cumque quo facilis odio vero aspernatur cupiditate totam quos iure incidunt laboriosam quidem est dolorum.
      button#more.tc-button.tc-ripple 加载更多